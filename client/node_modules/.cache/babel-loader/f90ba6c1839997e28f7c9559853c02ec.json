{"remainingRequest":"D:\\DELL\\Desktop\\Resource\\Webstudy\\13-vue3\\二次学习\\vue08\\打包上线版本\\v1.1\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\DELL\\Desktop\\Resource\\Webstudy\\13-vue3\\二次学习\\vue08\\打包上线版本\\v1.1\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\DELL\\Desktop\\Resource\\Webstudy\\13-vue3\\二次学习\\vue08\\打包上线版本\\v1.1\\client\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\DELL\\Desktop\\Resource\\Webstudy\\13-vue3\\二次学习\\vue08\\打包上线版本\\v1.1\\client\\src\\components\\Login\\UserBox.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\DELL\\Desktop\\Resource\\Webstudy\\13-vue3\\二次学习\\vue08\\打包上线版本\\v1.1\\client\\src\\components\\Login\\UserBox.vue","mtime":1657520581997},{"path":"D:\\DELL\\Desktop\\Resource\\Webstudy\\13-vue3\\二次学习\\vue08\\打包上线版本\\v1.1\\client\\babel.config.js","mtime":1639895391688},{"path":"D:\\DELL\\Desktop\\Resource\\Webstudy\\13-vue3\\二次学习\\vue08\\打包上线版本\\v1.1\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653658406323},{"path":"D:\\DELL\\Desktop\\Resource\\Webstudy\\13-vue3\\二次学习\\vue08\\打包上线版本\\v1.1\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1653658408156},{"path":"D:\\DELL\\Desktop\\Resource\\Webstudy\\13-vue3\\二次学习\\vue08\\打包上线版本\\v1.1\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653658406323},{"path":"D:\\DELL\\Desktop\\Resource\\Webstudy\\13-vue3\\二次学习\\vue08\\打包上线版本\\v1.1\\client\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1653658408462}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxERUxMXFxEZXNrdG9wXFxSZXNvdXJjZVxcV2Vic3R1ZHlcXDEzLXZ1ZTNcXFx1NEU4Q1x1NkIyMVx1NUI2Nlx1NEU2MFxcdnVlMDhcXFx1NjI1M1x1NTMwNVx1NEUwQVx1N0VCRlx1NzI0OFx1NjcyQ1xcdjEuMVxcY2xpZW50XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDpcXERFTExcXERlc2t0b3BcXFJlc291cmNlXFxXZWJzdHVkeVxcMTMtdnVlM1xcXHU0RThDXHU2QjIxXHU1QjY2XHU0RTYwXFx2dWUwOFxcXHU2MjUzXHU1MzA1XHU0RTBBXHU3RUJGXHU3MjQ4XHU2NzJDXFx2MS4xXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVc2VyQm94IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmFuZG9tOiAiP189Ii5jb25jYXQoRGF0ZS5ub3coKSkKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgdXNlckluZm86IGZ1bmN0aW9uIHVzZXJJbmZvKCkgewogICAgICB0aGlzLnJhbmRvbSA9ICI/Xz0iLmNvbmNhdChEYXRlLm5vdygpKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbJ3VzZXJJbmZvJ10pKSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbJ2xvZ2luT3V0J10pKSwge30sIHsKICAgIC8v6YCA5Ye655m75b2VCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpcyQkYXhpb3MsIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRheGlvcyh7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgICB1cmw6ICIvbG9naW4vb3V0IgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpcyQkYXhpb3MgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRfdGhpcyQkYXhpb3MuZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuY29kZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIC8v6YCA5Ye65oiQ5YqfCiAgICAgICAgICAgICAgICAvL+a4heepunZ1ZXgKICAgICAgICAgICAgICAgIF90aGlzLmxvZ2luT3V0KCk7CgogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5bey6YCA5Ye655m75b2VIik7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBpbmZvOiBmdW5jdGlvbiBpbmZvKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3VzZXIiKTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["D:\\DELL\\Desktop\\Resource\\Webstudy\\13-vue3\\二次学习\\vue08\\打包上线版本\\v1.1\\client\\src\\components\\Login\\UserBox.vue"],"names":[],"mappings":";;;AA2BA,SAAQ,QAAR,EAAkB,YAAlB,QAAqC,MAArC;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,SADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,MAAM,eAAO,IAAI,CAAC,GAAL,EAAP;AADD,KAAP;AAGD,GANY;AAOb,EAAA,KAAK,EAAC;AACJ,IAAA,QADI,sBACM;AACR,WAAK,MAAL,gBAAoB,IAAI,CAAC,GAAL,EAApB;AACF;AAHI,GAPO;AAYb,EAAA,QAAQ,oBACH,QAAQ,CAAC,CAAC,UAAD,CAAD,CADL,CAZK;AAeb,EAAA,OAAO,kCACF,YAAY,CAAC,CAAC,UAAD,CAAD,CADV;AAEL;AACM,IAAA,MAHD,oBAGS;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEO,KAAI,CAAC,MAAL,CAAY;AAC7B,kBAAA,MAAM,EAAC,MADsB;AAE7B,kBAAA,GAAG,EAAC;AAFyB,iBAAZ,CAFP;;AAAA;AAAA;AAEP,gBAAA,IAFO,uBAEP,IAFO;;AAAA,qBAMT,IAAI,CAAC,IANI;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAQZ;AACA;AACA,gBAAA,KAAI,CAAC,QAAL;;AACA,gBAAA,KAAI,CAAC,QAAL,CAAc,OAAd,CAAsB,OAAtB;;AAXY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYb,KAfI;AAgBL,IAAA,IAhBK,kBAgBC;AACJ,WAAK,OAAL,CAAa,IAAb,CAAkB,OAAlB;AACF;AAlBK;AAfM,CAAf","sourcesContent":["\n<template>\n  <div class=\"UserBox\">\n    <el-popover\n      placement=\"bottom-end\"\n      trigger=\"hover\"\n      :width=\"170\"\n    >\n      <template #reference>\n        <div\n          class=\"img\"\n          :style=\"{\n            backgroundImage: `url(${baseURL}${userInfo.photo}${random})`\n          }\"\n          :title=\"userInfo.user\"\n        ></div>\n      </template>\n      <div class=\"show\">\n        <el-button type=\"primary\" size=\"mini\" @click=\"info\">修改信息</el-button>\n        <el-button type=\"danger\" size=\"mini\" @click=\"logout\">退出登录</el-button>\n      </div>\n    </el-popover>\n\n  </div>\n</template>\n\n<script>\nimport {mapState, mapMutations} from \"vuex\"\n\nexport default {\n  name: \"UserBox\",\n  data() {\n    return {\n      random:`?_=${Date.now()}`\n    }\n  },\n  watch:{\n    userInfo(){\n      this.random = `?_=${Date.now()}`\n    }\n  },\n  computed: {\n    ...mapState(['userInfo'])\n  },\n  methods: {\n    ...mapMutations(['loginOut']),\n    //退出登录\n    async logout(){\n      //前端要清除vuex 后端清除session\n      let {data} = await this.$axios({\n        method:\"POST\",\n        url:\"/login/out\"\n      })\n      if(data.code)return\n\n      //退出成功\n      //清空vuex\n      this.loginOut()\n      this.$message.success(\"已退出登录\")\n    },\n    info(){\n      this.$router.push(\"/user\")\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n.UserBox {\n  width: 34px;\n  height: 34px;\n  /* padding: 8px 0; */\n  /* margin-right: 100px ; */\n\n  .img {\n    width: 34px;\n    height: 34px;\n    background: none center center/cover;\n    border-radius: 50%;\n    cursor: pointer;\n  }\n}\n</style>\n"],"sourceRoot":""}]}