{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/views/Message.vue","webpack:///./src/views/Message.vue?d73a","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./src/views/Message.vue?8323"],"names":["$","uncurryThis","notARegExp","requireObjectCoercible","toString","correctIsRegExpLogic","stringIndexOf","indexOf","target","proto","forced","includes","searchString","this","arguments","length","undefined","isObject","classof","wellKnownSymbol","MATCH","module","exports","it","isRegExp","$trim","trim","forcedStringTrimMethod","whitespaces","replace","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","start","end","global","TypeError","id","class","type","row","placeholder","textarea","maxlength","show-word-limit","showEmoji","ifShowEmoji","emoji","item","key","clickEmoji","size","submit","msgList","_id","style","baseURL","author","photo","user","formatDate","date","text","userInfo","likes","parentLikeClick","parentReplyClick","children","childItem","cindex","replyUser","childLikeClick","childReplyClick","ifShowReply","replyTxt","replySubmit","name","data","computed","methods","console","log","$message","error","val","$axios","method","url","code","msg","success","getMsg","d","forEach","Date","YY","getFullYear","MM","getMonth","DD","getDate","hh","getHours","mm","getMinutes","ss","getSeconds","pid","cid","cItem","mounted","document","addEventListener","created","__exports__","render","METHOD_NAME","regexp","error1","error2","PROPER_FUNCTION_NAME","PROPER","fails","non","$includes","addToUnscopables","el"],"mappings":"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","file":"js/chunk-5ce8ed21.4877b72a.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\nvar stringIndexOf = uncurryThis(''.indexOf);\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~stringIndexOf(\n      toString(requireObjectCoercible(this)),\n      toString(notARegExp(searchString)),\n      arguments.length > 1 ? arguments[1] : undefined\n    );\n  }\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar replace = uncurryThis(''.replace);\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = replace(string, ltrim, '');\n    if (TYPE & 2) string = replace(string, rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var global = require('../internals/global');\nvar isRegExp = require('../internals/is-regexp');\n\nvar TypeError = global.TypeError;\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","<template>\n  <div id=\"Message\">\n    <article class=\"a1\">\n      <h2>留言板</h2>\n      <p class=\"des\">\n        请文明发言,禁止广告。不然拉黑了嗷🌞~\n      </p>\n      <el-input\n          type=\"textarea\"\n          :row=\"2\"\n          placeholder=\"请输入内容\"\n          v-model=\"textarea\"\n          maxlength=\"100\"\n          show-word-limit\n      ></el-input>\n      <div class=\"btn\">\n        <div class=\"left\">\n          <i class=\"iconfont icon-biaoqing\" @click.stop=\"showEmoji\"></i>\n          <div class=\"emoji\" v-if=\"ifShowEmoji\">\n            <ul>\n              <li v-for=\"item in emoji\"\n                  :key=\"item\"\n                  @click.stop=\"clickEmoji(item)\"\n              >{{ item }}\n              </li>\n            </ul>\n          </div>\n        </div>\n        <el-button\n            type=\"primary\"\n            size=\"mini\"\n            @click=\"submit\"\n        >发表\n        </el-button>\n      </div>\n    </article>\n    <article class=\"a2\">\n      <ul>\n        <li v-for=\"item in msgList\" :key=\"item._id\">\n          <div class=\"parent\">\n            <div\n                class=\"left\"\n                :style=\"{backgroundImage:`url(${baseURL}${item.author.photo})`}\"\n            ></div>\n            <div class=\"right\">\n              <div class=\"name-time \">\n                <span>{{ item.author.user }}</span>\n                <span>{{ formatDate(item.date) }}</span>\n              </div>\n              <div class=\"message\">\n                {{ item.text }}\n              </div>\n              <div class=\"like-reply\">\n                <i class=\"like iconfont icon-xinaixin \"\n                   :class=\"{isLike:userInfo._id && item.likes.includes(userInfo._id)}\"\n                   @click=\"parentLikeClick(item._id)\"></i>\n                <span>{{ item.likes.length }}</span>\n                <i class=\"reply iconfont icon-huifu\"\n                   @click=\"parentReplyClick(item)\"></i>\n              </div>\n            </div>\n          </div>\n          <div class=\"child\" v-for=\"(childItem,cindex) in item.children\" :key=\"childItem._id\">\n            <div\n                class=\"left\"\n                :style=\"{backgroundImage:`url(${baseURL}${childItem.author.photo})`}\"\n            ></div>\n            <div class=\"right\">\n              <div class=\"name-time \">\n                <span>{{ childItem.author.user }}</span>\n                <span>2{{ formatDate(childItem.date) }}</span>\n              </div>\n              <div class=\"message\">\n                <span>@{{ childItem.replyUser.user }}</span>{{ childItem.text }}\n              </div>\n              <div class=\"like-reply\">\n                <i class=\"like iconfont icon-xinaixin\"\n                   :class=\"{isLike:userInfo._id&&childItem.likes.includes(userInfo._id)}\"\n                   @click=\"childLikeClick(item._id,childItem._id,cindex)\"\n                ></i>\n                <span>{{ childItem.likes.length }}</span>\n                <i class=\"reply iconfont icon-huifu\"\n                   @click=\"childReplyClick(item,childItem)\"\n                ></i>\n              </div>\n            </div>\n          </div>\n          <div class=\"replyInput \"\n               :class=\"{show:item.ifShowReply}\"\n          >\n            <el-input size=\"mini\"\n                      :placeholder=\"`@${item.replyUser.user}`\"\n                      v-model=\"item.replyTxt\"\n            ></el-input>\n            <el-button\n                type=\"primary\"\n                size=\"mini\"\n                @click=\"replySubmit(item)\">留言\n            </el-button>\n          </div>\n        </li>\n      </ul>\n    </article>\n  </div>\n</template>\n\n<script>\nimport {mapState} from 'vuex'\n\nexport default {\n  name: \"Message\",\n  data() {\n    return {\n      //留言内容\n      textarea: \"\",\n      //用于显示/隐藏 emoji选择框\n      ifShowEmoji: false,\n      //emoji数组\n      emoji: [\n        \"😀\", \"😁\", \"😂\", \"🤣\", \"😃\", \"😄\", \"😅\", \"😆\", \"😉\", \"😊\", \"😋\",\n        \"😎\", \"😍\", \"😘\", \"🥰\", \"😗\", \"😙\", \"🥲\", \"😚\", \"🙂\", \"🤗\", \"🎈\",\n        \"🤩\", \"🤔\", \"🤨\", \"😐\", \"😑\", \"😶\", \"🙄\", \"😏\", \"😣\", \"😥\", \"😮\",\n        \"🤐\", \"😯\", \"😪\", \"😫\", \"🥱\", \"😴\", \"😌\", \"😛\", \"😜\", \"😝\", \"🤤\",\n        \"😒\", \"😓\", \"😔\", \"😕\", \"🙃\", \"🤑\", \"😞\", \"😟\", \"😲\", \"☹️\", \"😤\",\n        \"😢\", \"😭\", \"🙁\", \"😦\", \"😖\", \"😰\", \"😬\", \"🤯\", \"😩\", \"😨\", \"😧\",\n        \"😱\", \"🥵\", \"🥶\", \"😳\", \"🤪\", \"😵\", \"🤒\", \"😷\", \"🤬\", \"😡\", \"😠\",\n        \"🥴\", \"🤕\", \"🤢\", \"🤮\", \"🤧\", \"😇\", \"🥳\", \"🤫\", \"🤥\", \"🤡\", \"🤠\",\n        \"🥺\", \"🥸\", \"🤭\", \"🧐\", \"🤓\", \"😈\", \"👿\", \"👹\", \"👺\", \"💀\", \"☠️\",\n        \"👻\", \"👽\", \"💪\", \"🦵\", \"🦶\", \"👂\", \"🦻\", \"👃\", \"🤏\", \"👈\", \"👌\",\n        \"👉\", \"☝️\", \"👆\", \"👇\", \"✌️\", \"🤞\", \"🖖\", \"🤘\", \"🤙\", \"🖐️\", \"✋\",\n        \"🤌\", \"👍\", \"👎\", \"✊\", \"👊\", \"✍️\", \"🤝\", \"💅\", \"👏\", \"🤛\", \"🤜\",\n        \"🤚\", \"👋\", \"🤟\", \"🙏\", \"🤲\", \"🙌\", \"👐\", \"💝\", \"💘\", \"💖\", \"💗\",\n        \"💓\", \"💞\", \"💕\", \"❣️\", \"💔\", \"❤️\", \"🧡\", \"💟\", \"💌\", \"💢\", \"🔞\"\n      ],\n      //所有留言列表\n      msgList: []\n    }\n  },\n  computed: {\n    ...mapState(['userInfo'])\n  },\n  methods: {\n    //显示表情框\n    showEmoji() {\n      this.ifShowEmoji = !this.ifShowEmoji\n    },\n    //表情图标点击\n    clickEmoji(item) {\n      console.log(this.textarea.length);\n      if (this.textarea.length > 98) return\n\n      this.textarea += item\n    },\n    //提交留言 写在methods的函数可以直接加async\n    async submit() {\n      //没有登陆的话 给提示\n      //console.log(this.userInfo);\n      if (!this.userInfo.user) {\n        return this.$message.error(\"请先登录\")\n      }\n      //留言内容为空\n      let val = this.textarea.trim()\n      if (!val) {\n        return this.$message.error(\"请输入内容\")\n      }\n\n      //发送到后端\n      let {data} = await this.$axios({\n        method: \"POST\",\n        url: \"/msg/submit\",\n        data: {\n          val\n        }\n      })\n      //留言失败\n      if (data.code) {\n        return $message.error(data.msg)//提示\n      }\n      //留言成功\n      this.$message.success(\"留言成功啦\")//提示\n      this.textarea = \"\"//内容清空\n      this.getMsg()\n    },\n    //请求所有留言\n    async getMsg() {\n      let {data} = await this.$axios({\n        method: \"GET\",\n        url: \"/get/msg\"\n      })\n      let d = data.data\n      d.forEach(item => {\n        item.ifShowReply = false//用于控制回复框显示/隐藏\n        item.replyTxt = \"\"// 回复框的内容绑定\n        item.replyUser = item.author//提示框显示文本内容\n      })\n      console.log(d);\n      this.msgList = d\n    },\n    //转换日期显示\n    formatDate(date) {\n      let d = new Date(date),\n          YY = d.getFullYear(),\n          MM = d.getMonth() + 1,\n          DD = d.getDate(),\n          hh = d.getHours(),\n          mm = d.getMinutes(),\n          ss = d.getSeconds()\n      MM = (MM < 10 ? \"0\" : \"\") + MM\n      DD = (DD < 10 ? \"0\" : \"\") + DD\n      hh = (hh < 10 ? \"0\" : \"\") + hh\n      mm = (mm < 10 ? \"0\" : \"\") + mm\n      ss = (ss < 10 ? \"0\" : \"\") + ss\n      return `${YY}-${MM}-${DD} ${hh}:${mm}:${ss}`\n    },\n    //父级点赞按钮\n    async parentLikeClick(id) {\n      //判断用户是否登录\n      if (!this.userInfo.user) {\n        return this.$message.error(\"请先登录\")\n      }\n      let {data} = await this.$axios({\n        method: \"POST\",\n        url: \"/msg/like/parent\",\n        data: {\n          id//评论id\n        }\n      })\n      console.log(data);\n      //操作失败\n      if (data.code) {\n        return this.$message.error(data.msg)\n      }\n      //操作成功\n      this.getMsg()\n    },\n    //回复按钮的点击\n    parentReplyClick(item) {\n      //判断用户是否登录\n      if (!this.userInfo.user) {\n        return this.$message.error(\"请先登录\")\n      }\n      //通过判断@的名字一样不一样 来决定是否展开、\n      if (item.author._id !== item.replyUser._id) {\n        item.ifShowReply = true\n      } else {\n        //控制显示隐藏\n        item.ifShowReply = !item.ifShowReply\n      }\n      //改变@后面的名字\n      item.replyUser = item.author\n    },\n    //回复的提交\n    async replySubmit(item) {\n      //判断用户是否登录\n      if (!this.userInfo.user) {\n        return this.$message.error(\"请先登录\")\n      }\n      let text = item.replyTxt.trim()\n      //验证数据格式\n      if (!text) {\n        return this.$message.error(\"请输入回复内容\")\n      }\n      if (text.length > 100) {\n        return this.$message.error(\"回复字数不能超过100\")\n      }\n\n      //发送数据到后端\n      let {data} = await this.$axios({\n        method: \"POST\",\n        url: \"/msg/reply/submit\",\n        data: {\n          id: item._id,\n          text,\n          replyUser: item.replyUser._id\n        }\n      })\n      if (data.code) {\n        return this.$message.error(data.msg)\n      }\n      this.$message.success(\"回复成功\")\n      this.getMsg()\n    },\n    //子回复点赞\n    async childLikeClick(pid, cid, cindex) {\n      //判断用户是否登录\n      if (!this.userInfo.user) {\n        return this.$message.error(\"请先登录\")\n      }\n      //发送请求\n      let {data} = await this.$axios({\n        method: \"POST\",\n        url: \"/msg/like/child\",\n        data: {pid, cid, cindex}\n      })\n      //console.log(data);\n\n      if (data.code) {\n        return this.$message.error(data.msg)\n      }\n      this.getMsg()\n    },\n    //子回复按钮点击\n    childReplyClick(item, cItem) {\n      //判断用户是否登录\n      if (!this.userInfo.user) {\n        return this.$message.error(\"请先登录\")\n      }\n      //通过判断@的名字一样不一样 来决定是否展开、\n      if (cItem.author._id !== item.replyUser._id) {\n        item.ifShowReply = true\n      } else {\n        item.ifShowReply = !item.ifShowReply\n      }\n      //改变replyUser\n      item.replyUser = cItem.author\n\n    }\n  },\n  mounted() {\n    //点击document emoji消失\n    document.addEventListener(\"click\", () => {\n      this.ifShowEmoji = false\n    })\n  },\n  created() {\n    //请求留言数据\n    this.getMsg()\n    console.log(111);\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n#Message {\n  article {\n    box-sizing: border-box;\n    width: 100%;\n    margin-bottom: 15px;\n    box-shadow: 0 0 4px #ddd;\n    padding: 25px 20px;\n    background-color: #fff;\n    font-family: Quicksand, Microsoft YaHei, sans-serif;\n    background-color: rgba(255, 255, 255, .9);\n    box-shadow: 10px 10px 10px -10px rgba(0, 0, 0, .5);\n\n    h2 {\n      margin-bottom: 15px;\n      font-size: 20px;\n      letter-spacing: 3px;\n      line-height: 24px;\n      border-left: 5px solid #73b899;\n      text-indent: 10px;\n    }\n\n    p {\n      text-indent: 2em;\n      color: #444;\n      font-size: 14px;\n      letter-spacing: 4px;\n      line-height: 30px;\n    }\n  }\n\n  article.a1 {\n    .el-textarea {\n      margin-top: 15px;\n    }\n\n    /* 样式穿透 */\n\n    /deep/ textarea {\n      font-family: \"Quicksand\", \"微软雅黑\";\n      letter-spacing: 5px;\n      height: 70px;\n      font-size: 12px;\n    }\n\n    .btn {\n      display: flex;\n      margin-top: 10px;\n      justify-content: space-between;\n\n      .left {\n        position: relative;\n      }\n\n      i {\n        font-size: 20px;\n        cursor: pointer;\n      }\n\n      .emoji {\n        position: absolute;\n        top: 30px;\n        background-color: #fff;\n        padding: 8px;\n        z-index: 10;\n        box-shadow: 0 0 3px #aaa;\n\n        &::before {\n          content: \"\";\n          position: absolute;\n          z-index: 3;\n          top: -10px;\n          left: 5px;\n          width: 0;\n          height: 0;\n          border: 5px solid transparent;\n          border-bottom-color: #ccc;\n        }\n\n        ul {\n          display: flex;\n          flex-wrap: wrap;\n          width: 275px;\n          border-left: 1px solid #e5e5e5;\n          border-bottom: 1px solid #e5e5e5;\n\n          li {\n            box-sizing: border-box;\n            float: left;\n            width: 25px;\n            height: 25px;\n            border-right: 1px solid #e5e5e5;\n            border-top: 1px solid #e5e5e5;\n            font-size: 18px;\n            line-height: 25px;\n            cursor: pointer;\n          }\n        }\n      }\n    }\n  }\n\n  article.a2 {\n    ul li {\n      padding-bottom: 5px;\n      margin-bottom: 10px;\n      border-bottom: 1px dashed #ddd;\n      font-size: 12px;\n\n      .child {\n        margin-left: 55px;\n        margin-top: 3px;\n      }\n\n      .parent, .child {\n        display: flex;\n\n        .left {\n          overflow: hidden;\n          width: 40px;\n          height: 40px;\n          margin-right: 15px;\n          border-radius: 50%;\n          background: none top center/cover;\n        }\n\n        .right {\n          flex: 1;\n\n          .name-time {\n            font-size: 12px;\n            margin-bottom: 3px;\n\n            span:nth-child(1) {\n              color: #73b899\n            }\n\n            span:nth-child(2) {\n              color: #aaa;\n              margin-left: 10px;\n            }\n          }\n\n          .message {\n            color: #666;\n            letter-spacing: 2px;\n            margin-bottom: 3px;\n            word-break: break-word;\n\n            span {\n              color: #409eff;\n              margin-right: 5px;\n            }\n          }\n\n          .like-reply {\n            i {\n              cursor: pointer;\n              font-size: 14px;\n              color: #aaa;\n            }\n\n            i.isLike {\n              color: #f30606;\n            }\n\n            span {\n              display: inline-block;\n              width: 43px;\n              font-size: 12px;\n              color: #aaa;\n            }\n          }\n        }\n      }\n\n      .replyInput {\n        overflow: hidden;\n        transition: height .3s;\n        height: 0px;\n        width: 100%;\n        padding-left: 55px;\n        box-sizing: border-box;\n        margin-top: 10px;\n\n        &.show {\n          height: 57px;\n        }\n\n        .el-button {\n          padding: 0px 9px !important;\n          float: right;\n        }\n      }\n    }\n  }\n}\n\n</style>","import { render } from \"./Message.vue?vue&type=template&id=75a71762&scoped=true\"\nimport script from \"./Message.vue?vue&type=script&lang=js\"\nexport * from \"./Message.vue?vue&type=script&lang=js\"\n\nimport \"./Message.vue?vue&type=style&index=0&id=75a71762&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\DELL\\\\Desktop\\\\Resource\\\\Webstudy\\\\13-vue3\\\\二次学习\\\\vue08\\\\打包上线版本\\\\v1.1\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-75a71762\"]])\n\nexport default __exports__","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Message.vue?vue&type=style&index=0&id=75a71762&lang=less&scoped=true\""],"sourceRoot":""}